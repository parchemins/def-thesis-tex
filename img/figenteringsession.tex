
\begin{tikzpicture}[scale=1.1]

  \newcommand\X{30pt}
  \newcommand\Y{-30pt}
  
  \small

  \draw (-35-2*\X, 30pt);

  \draw[->] (\X, 0)--(\X, 5+3*\Y); %% p1 p6
  \draw[->] (-5+2*\X, 0)--(5+\X, 0); %% p2 p1
  \draw[->] (2*\X, 0) -- (-5+3*\X, \Y); %% p2 p3
  \draw[->] (2*\X, 0) -- (-5+3*\X, 2*\Y); %% p2 p4
  \draw[->] (3*\X, 5+\Y) -- ( 5+2*\X, 0); %% p3 p2
  \draw[->] (3*\X, \Y) -- (5pt, 2*\Y); %% p3 p7
  \draw[->] (3*\X, \Y) -- (2*\X, 5+3*\Y); %% p3 p5
  \draw[->] (3*\X, 2*\Y) -- (5pt, 2*\Y); %% p4 p7
  \draw[->] (3*\X, 2*\Y) -- (5pt, \Y); %% p4 p8
  \draw[->] (2*\X, 3*\Y) -- (\X, -5pt); %% p5 p1
  \draw[->] (5+2*\X, 3*\Y) -- (3*\X, -5+ 2*\Y); %% p5 p4
  \draw[->] (-5+\X, 3*\Y) -- (0pt, -5+2*\Y); %% p6 p7
  \draw[->] (0pt, 2*\Y) -- (-5+3*\X, \Y); %% p7 p3
  \draw[->] (0pt, 2*\Y) -- (\X, -5pt); %% p7 p1
  \draw[->] (0pt, \Y) -- (2*\X, -5pt); %% p8 p2
  \draw[->] (0pt, \Y) -- (\X, 5+3*\Y); %% p8 p6
  \draw[->] (0pt, \Y) -- (-5+3*\X, \Y); %% p8 p3
  
  \draw[fill=white] (-2*\X, 1.5*\Y) 
  node{\includegraphics[width=12pt]{img/crateicon.png}};
  % node{$e_9$}; % +(-5pt,-5pt) rectangle +(5pt,5pt);
  \only<3>{
    \draw[<->, densely dashed, color=darkblue, very thick]
    (-2*\X, 5+1.5*\Y) -- node[anchor=east]{\DARKBLUE{rejoint}} (-2*\X, -5pt);
  }

  \only<4>{
    \draw[<->, very thick](5-2*\X,1.5*\Y) -- (-5pt, -3+ \Y);
  }

  \draw[fill=white] (-2*\X, 0) node{$mediateur_1$} +(-20pt, -5pt)rectangle+(20pt, 5pt);
  \only<2->{
    \draw[<->, densely dashed, color=darkblue, very thick]
    (20-2*\X, 0) -- node[anchor=south]{\DARKBLUE{partage}} (-5+\X, 0);
    \draw[<->, densely dashed, color=darkblue, very thick]
    (20-2*\X, -5pt) -- (-5pt, \Y);
  }
  
  \draw[fill=white] (-2*\X, 3*\Y) node{$mediateur_2$} +(-20pt, -5pt)rectangle+(20pt, 5pt);
  \only<2->{
    \draw[<->, densely dashed, color=darkblue] (20-2*\X, 3*\Y) -- (-5+\X, 3*\Y);
    \draw[<->, densely dashed, color=darkblue] (20-2*\X, 5+3*\Y) -- (-5pt, 2*\Y);
  }

  \draw[fill=white] (\X, 0)node{\includegraphics[width=12pt]{img/crateicon.png}};
  % node{$e_1$}+(-5pt, -5pt)rectangle+(5pt, 5pt);
  \draw[fill=white] (2*\X, 0)node{\includegraphics[width=12pt]{img/crateicon.png}};
  % {$e_2$}+(-5pt, -5pt)rectangle+(5pt, 5pt);
  \draw[fill=white] (3*\X, \Y)node{\includegraphics[width=12pt]{img/crateicon.png}};
  % ;{$e_3$}+(-5pt, -5pt)rectangle+(5pt, 5pt);
  \draw[fill=white] (3*\X, 2*\Y)node{\includegraphics[width=12pt]{img/crateicon.png}};
  % {$e_4$}+(-5pt, -5pt)rectangle+(5pt, 5pt);
  \draw[fill=white] (2*\X, 3*\Y)node{\includegraphics[width=12pt]{img/crateicon.png}};
  % {$e_5$}+(-5pt, -5pt)rectangle+(5pt, 5pt);
  \draw[fill=white] (1*\X, 3*\Y)node{\includegraphics[width=12pt]{img/crateicon.png}};
  % {$e_6$}+(-5pt, -5pt)rectangle+(5pt, 5pt);
  \draw[fill=white] (0 , 2*\Y)node{\includegraphics[width=12pt]{img/crateicon.png}};
  % {$e_7$}+(-5pt, -5pt)rectangle+(5pt, 5pt);
  % \draw[fill=white] (0 , \Y)+(-55pt, -10pt)rectangle+(5pt, 10pt);
  \draw[fill=white](0,\Y) node{\includegraphics[width=12pt]{img/crateicon.png}};
  % {$e_8$}+(-5pt, -5pt)rectangle+(5pt, 5pt);

\end{tikzpicture}